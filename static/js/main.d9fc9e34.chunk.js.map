{"version":3,"sources":["components/Filters/Filters.module.css","components/TicketsList/TicketsList.module.css","redux/actions.js","redux/reducers.js","redux/store.js","components/Container/Container.js","images/logo.svg","components/Logo/Logo.js","api/avia-sales.js","redux/operations.js","components/Filters/Filters.js","containers/FiltersContainer.js","components/Tabs/Tabs.js","containers/TabsContainer.js","components/Ticket/Ticket.js","components/TicketsList/TicketsList.js","containers/TicketsListContainer.js","views/Tickets.js","App.js","index.js","components/Ticket/Ticket.module.css","components/Tabs/Tabs.module.css"],"names":["module","exports","searchIdRequest","createAction","searchIdSuccess","searchIdError","fetchTicketsRequest","fetchTicketsSuccess","fetchTicketsError","toggleStops","setTabValue","searchID","createReducer","actions","_","payload","tickets","state","stopsFilters","name","key","label","checked","itemName","isChecked","map","item","isAllValueChanged","every","tabValue","combineReducers","configureStore","reducer","applyMiddleware","thunk","Container","children","className","Logo","src","PageLogo","alt","fetchSearchId","a","fetch","response","json","searchId","console","log","fetchTickets","isRequestOk","finalResponse","res","ok","data","getSearchID","dispatch","getTickets","getState","stop","Filters","checkedItems","onListItemClick","s","stopsCount","stopsCountTitle","stopsList","stopsItem","stopsLabel","type","stopItemCheckbox","onChange","FiltersContainer","useSelector","useDispatch","e","currentTarget","toString","Tabs","onTabChange","tabs","onClick","autoFocus","activeTab","tab","TabsContainer","store","target","getStartDate","date","startDate","Date","getHours","getMinutes","getEndDate","duration","getTime","endDate","Ticket","number","ticket","price","carrier","segments","replace","logo","segment","segmentTitle","origin","destination","segmentData","num","Math","floor","segmentStops","stopsLength","stops","length","indexOf","TicktesList","onNextPage","ticketsList","buttonWrapper","loadMoreTickets","TicketListContainer","useState","filteredTickets","setFilteredTickets","page","setPage","stopsFilter","filterByStops","useCallback","filter","allValue","find","useEffect","ticketsByStops","ticketsByTab","slice","sort","b","reduce","acc","TicketsList","prevPage","Tickets","App","operations","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d9fc9e34.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"stopsCount\":\"Filters_stopsCount__3EJXv\",\"stopsList\":\"Filters_stopsList__1J1wC\",\"stopsCountTitle\":\"Filters_stopsCountTitle__1Vbam\",\"stopsLabel\":\"Filters_stopsLabel__1fUul\",\"stopsItem\":\"Filters_stopsItem__7kAJQ\",\"stopItemCheckbox\":\"Filters_stopItemCheckbox__3xQ3x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadMoreTickets\":\"TicketsList_loadMoreTickets__38fYL\",\"buttonWrapper\":\"TicketsList_buttonWrapper__3URRi\",\"ticketsList\":\"TicketsList_ticketsList__WpSyX\"};","import { createAction } from \"@reduxjs/toolkit\";\n\nconst searchIdRequest = createAction(\"AUTH/searchIdRequest\");\nconst searchIdSuccess = createAction(\"AUTH/searchIdSuccess\");\nconst searchIdError = createAction(\"AUTH/searchIdError\");\n\nconst fetchTicketsRequest = createAction(\"TICKETS/fetchTicketsRequest\");\nconst fetchTicketsSuccess = createAction(\"TICKETS/fetchTicketsSuccess\");\nconst fetchTicketsError = createAction(\"TICKETS/fetchTicketsError\");\n\nconst toggleStops = createAction(\"TICKETS/toggleStops\");\n\nconst setTabValue = createAction(\"TICKETS/setTabValue\");\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  searchIdRequest,\n  searchIdSuccess,\n  searchIdError,\n  fetchTicketsRequest,\n  fetchTicketsSuccess,\n  fetchTicketsError,\n  toggleStops,\n  setTabValue,\n};\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\n\nimport actions from \"./actions\";\n\nconst initCheckboxes = [\n  {\n    name: \"all\",\n    key: \"checkBox1\",\n    label: \"Все\",\n    checked: true,\n  },\n  {\n    name: \"0\",\n    key: \"checkBox2\",\n    label: \"Без пересадок\",\n    checked: true,\n  },\n  {\n    name: \"1\",\n    key: \"checkBox3\",\n    label: \"1 Пересадка\",\n    checked: true,\n  },\n  {\n    name: \"2\",\n    key: \"checkBox4\",\n    label: \"2 Пересадки\",\n    checked: true,\n  },\n  {\n    name: \"3\",\n    key: \"checkBox5\",\n    label: \"3 Пересадки\",\n    checked: true,\n  },\n];\n\nconst searchID = createReducer(null, {\n  [actions.searchIdSuccess]: (_, { payload }) => payload,\n});\n\nconst tickets = createReducer([], {\n  [actions.fetchTicketsSuccess]: (state, { payload }) => [...state, ...payload],\n});\n\nconst stopsFilters = createReducer(initCheckboxes, {\n  [actions.toggleStops]: (state, { payload: { itemName, isChecked } }) => {\n    if (itemName === \"all\") {\n      return state.map((item) => ({\n        ...item,\n        checked: isChecked,\n      }));\n    }\n\n    const isAllValueChanged = !isChecked\n      ? !state.every((item) => item.checked === isChecked)\n      : state.every((item) => {\n          if (item.name === \"all\" || item.name === itemName) return true;\n          return item.checked === isChecked;\n        });\n\n    return state.map((item) => {\n      if (item.name === \"all\" && isAllValueChanged)\n        return { ...item, checked: isChecked };\n      if (item.name === itemName) return { ...item, checked: isChecked };\n\n      return item;\n    });\n  },\n});\n\nconst tabValue = createReducer(\"cheapest\", {\n  [actions.setTabValue]: (state, { payload }) => payload.tabValue,\n});\n\nexport default combineReducers({\n  searchID,\n  tickets,\n  stopsFilters,\n  tabValue,\n});\n","import { configureStore, applyMiddleware } from \"@reduxjs/toolkit\";\nimport thunk from \"redux-thunk\";\n\nimport reducer from \"./reducers\";\n\nexport default configureStore(\n  {\n    reducer,\n  },\n  applyMiddleware(thunk)\n);\n","const Container = ({ children }) => <div className=\"container\">{children}</div>;\n\nexport default Container;\n","export default __webpack_public_path__ + \"static/media/logo.97f76e96.svg\";","import PageLogo from \"../../images/logo.svg\";\nconst Logo = () => (\n  <div className=\"logo\">\n    <img src={PageLogo} alt=\"Plane logotype\" />\n  </div>\n);\n\nexport default Logo;\n","export async function fetchSearchId() {\n  try {\n    const response = await fetch(\"https://front-test.beta.aviasales.ru/search\");\n    const { searchId } = await response.json();\n    return searchId;\n  } catch (e) {\n    console.log(e);\n    throw e;\n  }\n}\n\nexport async function fetchTickets(searchId) {\n  try {\n    let isRequestOk = false;\n    let finalResponse = null;\n\n    while (!isRequestOk) {\n      const res = await fetch(\n        `https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`\n      );\n\n      isRequestOk = res.ok;\n      finalResponse = res;\n    }\n\n    const data = await finalResponse.json();\n\n    // console.log(data.tickets[0].segments[0].stops);\n\n    return data;\n  } catch (e) {\n    console.log(e);\n    throw e;\n  }\n}\n","import actions from \"./actions\";\nimport { fetchSearchId, fetchTickets } from \"../api/avia-sales\";\n\nconst getSearchID = () => async (dispatch) => {\n  dispatch(actions.searchIdRequest());\n\n  try {\n    const searchId = await fetchSearchId();\n\n    return dispatch(actions.searchIdSuccess(searchId));\n  } catch (e) {\n    console.log(e);\n    dispatch(actions.searchIdError(e));\n    return e;\n  }\n};\n\nconst getTickets = () => async (dispatch, getState) => {\n  const { searchID } = getState();\n\n  dispatch(actions.fetchTicketsRequest());\n\n  try {\n    let stop = false;\n\n    while (!stop) {\n      const data = await fetchTickets(searchID);\n\n      dispatch(actions.fetchTicketsSuccess(data.tickets));\n\n      stop = data.stop;\n    }\n  } catch (e) {\n    console.log(e);\n    dispatch(actions.fetchTicketsError);\n  }\n};\n\nconst getSearchIdAndTickets = () => async (dispatch) => {\n  try {\n    await dispatch(getSearchID());\n    dispatch(getTickets());\n  } catch (e) {\n    console.log(e);\n  }\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  getSearchID,\n  getTickets,\n  getSearchIdAndTickets,\n};\n","import s from \"./Filters.module.css\";\n\nconst Filters = ({ checkedItems, onListItemClick }) => {\n  return (\n    <aside className={s.stopsCount}>\n      <h2 className={s.stopsCountTitle}>Колличество пересадок</h2>\n      <ul className={s.stopsList}>\n        {checkedItems.map((item) => (\n          <li key={item.key} className={s.stopsItem}>\n            <label className={s.stopsLabel}>\n              <input\n                type=\"checkbox\"\n                className={s.stopItemCheckbox}\n                name={item.name}\n                checked={item.checked}\n                onChange={onListItemClick}\n              />\n              {item.label}\n            </label>\n          </li>\n        ))}\n      </ul>\n    </aside>\n  );\n};\n\nexport default Filters;\n","import { useDispatch, useSelector } from \"react-redux\";\n\nimport Filters from \"../components/Filters/Filters\";\nimport actions from \"../redux/actions\";\n\nconst FiltersContainer = () => {\n  const checkedItems = useSelector((state) => state.stopsFilters);\n  const dispatch = useDispatch();\n\n  const handleListItemClick = (e) => {\n    const itemName = e.currentTarget.name;\n    const isChecked = e.currentTarget.checked;\n    dispatch({\n      type: actions.toggleStops.toString(),\n      payload: { itemName, isChecked },\n    });\n  };\n\n  return (\n    <Filters\n      checkedItems={checkedItems}\n      onListItemClick={handleListItemClick}\n    />\n  );\n};\n\nexport default FiltersContainer;\n","import s from \"./Tabs.module.css\";\n\nconst Tabs = ({ onTabChange, tabValue }) => {\n  return (\n    <div className={s.tabs}>\n      <button\n        name=\"cheapest\"\n        onClick={onTabChange}\n        autoFocus\n        className={tabValue === \"cheapest\" ? s.activeTab : s.tab}\n      >\n        Самый дешевый\n      </button>\n      <button\n        name=\"fastest\"\n        onClick={onTabChange}\n        className={tabValue === \"fastest\" ? s.activeTab : s.tab}\n      >\n        Самый быстрый\n      </button>\n      <button\n        name=\"optimal\"\n        onClick={onTabChange}\n        className={tabValue === \"optimal\" ? s.activeTab : s.tab}\n      >\n        Оптимальный\n      </button>\n    </div>\n  );\n};\n\nexport default Tabs;\n","import { useDispatch, useSelector } from \"react-redux\";\nimport Tabs from \"../components/Tabs/Tabs\";\nimport actions from \"../redux/actions\";\n\nconst TabsContainer = () => {\n  const tabValue = useSelector((store) => store.tabValue);\n  const dispatch = useDispatch();\n\n  const handleTabValueChange = (e) => {\n    dispatch({\n      type: actions.setTabValue.toString(),\n      payload: { tabValue: e.target.name },\n    });\n  };\n  return <Tabs onTabChange={handleTabValueChange} tabValue={tabValue} />;\n};\n\nexport default TabsContainer;\n","import s from \"./Ticket.module.css\";\n\nfunction convertTime(num) {\n  var hours = Math.floor(num / 60);\n  var minutes = num % 60;\n  return hours + \"ч \" + minutes + \"м\";\n}\n\nfunction getStartDate(date) {\n  const startDate = new Date(date);\n  return `${startDate.getHours()}:${startDate.getMinutes()}`;\n}\n\nfunction getEndDate(date, duration) {\n  const startDate = new Date(date).getTime();\n  const endDate = new Date(startDate + duration);\n  return `${endDate.getHours()}:${endDate.getMinutes()}`;\n}\n\nfunction formatPrice(number) {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n}\n\nfunction formatStopsTitle(stopsLength) {\n  return stopsLength > 1\n    ? `${stopsLength} пересадки`\n    : `${stopsLength === 1 ? `1 пересадка` : \"Без пересадок\"}`;\n}\n\nfunction formatStopsData(stops) {\n  return stops.map((stop, _, stops) => {\n    if (stops.indexOf(stop) === stops.length - 1) {\n      return `${stop}`;\n    }\n    return `${stop}, `;\n  });\n}\n\nconst Ticket = ({ ticket }) => {\n  const { price, carrier, segments } = ticket;\n\n  return (\n    <article className={s.ticket}>\n      <p className={s.price}>{formatPrice(price)} P</p>\n\n      <img\n        src={`//pics.avs.io/99/36/${carrier}.png`}\n        className={s.logo}\n        alt=\"S7\"\n      />\n\n      {segments.map((segment) => (\n        <div\n          className={s.segment}\n          key={`${segment.origin} ${segment.destination}`}\n        >\n          <div className=\"segmentCites\">\n            <h3 className={s.segmentTitle}>\n              <span>{segment.origin}</span> - <span>{segment.destination}</span>\n            </h3>\n            <p className={s.segmentData}>\n              <span>{getStartDate(segment.date)}</span> -{\" \"}\n              <span>{getEndDate(segment.date, segment.duration)}</span>\n            </p>\n          </div>\n          <div className=\"segmentDuration\">\n            <h3 className={s.segmentTitle}>В пути</h3>\n            <p className={s.segmentData}>{convertTime(segment.duration)}</p>\n          </div>\n          <div className={s.segmentStops}>\n            <h3 className={s.segmentTitle}>\n              {formatStopsTitle(segment.stops.length)}\n            </h3>\n            <p className={s.segmentData}>{formatStopsData(segment.stops)}</p>\n          </div>\n        </div>\n      ))}\n    </article>\n  );\n};\n\nexport default Ticket;\n","import Ticket from \"../Ticket/Ticket\";\n\nimport s from \"./TicketsList.module.css\";\n\nconst TicktesList = ({ tickets, onNextPage }) => {\n  return (\n    <section className={s.ticketsList}>\n      {tickets.map((ticket, key) => {\n        return <Ticket key={key} ticket={ticket} />;\n      })}\n      <div className={s.buttonWrapper}>\n        <button className={s.loadMoreTickets} onClick={onNextPage}>\n          Показать еще 5 билетов!\n        </button>\n      </div>\n    </section>\n  );\n};\n\nexport default TicktesList;\n","import { useCallback, useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport TicketsList from \"../components/TicketsList/TicketsList\";\n\nconst TicketListContainer = () => {\n  const [filteredTickets, setFilteredTickets] = useState([]);\n  const [page, setPage] = useState(1);\n\n  const tickets = useSelector((store) => store.tickets);\n  const stopsFilter = useSelector((store) => store.stopsFilters);\n\n  const filterByStops = useCallback(() => {\n    const stops = stopsFilter.filter((item) => item.checked);\n\n    if (stops.length <= 0) {\n      return tickets;\n    }\n\n    const allValue = stops.find((stop) => stop.name === \"all\");\n\n    if (allValue && allValue.checked) {\n      return tickets;\n    }\n\n    const ticketsByStops = tickets.filter((ticket) => {\n      return ticket.segments.every((segment) =>\n        stops.find((stop) => +stop.name === segment.stops.length)\n      );\n    });\n\n    return ticketsByStops;\n  }, [stopsFilter, tickets]);\n\n  const tabValue = useSelector((store) => store.tabValue);\n\n  useEffect(() => {\n    const ticketsByStops = filterByStops();\n\n    let ticketsByTab = ticketsByStops;\n\n    if (tabValue === \"cheapest\") {\n      ticketsByTab = ticketsByStops.slice().sort((a, b) => a.price - b.price);\n    }\n\n    if (tabValue === \"fastest\") {\n      ticketsByTab = ticketsByStops\n        .slice()\n        .sort(\n          (a, b) =>\n            a.segments.reduce((acc, segment) => acc + segment.duration, 0) -\n            b.segments.reduce((acc, segment) => acc + segment.duration, 0)\n        );\n    }\n\n    if (tabValue === \"optimal\") {\n      ticketsByTab = ticketsByStops;\n    }\n\n    setFilteredTickets(ticketsByTab.slice(0, page * 5));\n  }, [filterByStops, page, tabValue]);\n\n  const incrementPage = () => setPage((prevPage) => prevPage + 1);\n\n  return <TicketsList tickets={filteredTickets} onNextPage={incrementPage} />;\n};\n\nexport default TicketListContainer;\n","import Filters from \"../containers/FiltersContainer\";\nimport Tabs from \"../containers/TabsContainer\";\nimport TicktesList from \"../containers/TicketsListContainer\";\n\nconst Tickets = () => {\n  return (\n    <div className=\"ticketsView\">\n      <Filters />\n      <Tabs />\n      <TicktesList />\n    </div>\n  );\n};\n\nexport default Tickets;\n","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Container from \"./components/Container/Container\";\nimport Logo from \"./components/Logo/Logo\";\n\nimport operations from \"./redux/operations\";\n\nimport Tickets from \"./views/Tickets\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(operations.getSearchIdAndTickets());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <Logo />\n      <Tickets />\n    </Container>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\n\nimport \"./index.css\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ticket\":\"Ticket_ticket__26n64\",\"price\":\"Ticket_price__2zupI\",\"logo\":\"Ticket_logo__2t1aM\",\"segment\":\"Ticket_segment__2pP7r\",\"segmentData\":\"Ticket_segmentData__1fU9P\",\"segmentTitle\":\"Ticket_segmentTitle__3EdTH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"Tabs_tabs__HvDAh\",\"tab\":\"Tabs_tab__2wXzT\",\"activeTab\":\"Tabs_activeTab__wEl20 Tabs_tab__2wXzT\"};"],"sourceRoot":""}